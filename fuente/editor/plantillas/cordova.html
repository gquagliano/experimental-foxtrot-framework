<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover">
    <meta name="generator" content="Foxtrot 7">
    <style id="foxtrot-estilos"></style>
  </head>
  <body class="cordova">
    <div id="contenedor-cordova" style="display:none;opacity:0">
    {editor_html}
    </div>
    <script>
    (function() {
        "use strict";
        var urlBase=localStorage.getItem("_urlBase"),
            scripts=[
                "cliente/foxtrot.js",
                /*controlador*/"aplicaciones/{editor_nombreAplicacion}/cliente/controladores/{editor_nombreVista}.js",/*controlador*/
                "aplicaciones/{editor_nombreAplicacion}/cliente/aplicacion.js",
                "cordova.js"
            ],
            estilos=[
                /*combinar*/"recursos/css/foxtrot.css",/*combinar*/
                /*combinar tema*/"recursos/css/{editor_tema}.css",/*combinar tema*/
                /*combinar*/"aplicaciones/{editor_nombreAplicacion}/recursos/css/estilos.css",/*combinar*/
                "aplicaciones/{editor_nombreAplicacion}/cliente/vistas/{editor_nombreVista}.css"
            ],
            listos=0,
            agregarEstilos=function() {
                estilos.forEach(function(url) {
                    var elem=document.createElement("link");
                    elem.rel="stylesheet";
                    elem.href=urlBase+url;
                    document.head.appendChild(elem);
                });
            },
            scriptOnLoad=function() {
                listos++;
                if(listos>=scripts.length) scriptsListos(); else agregarScript();
            },
            agregarScript=function() {
                var elem=document.createElement("script");
                elem.onload=scriptOnLoad;
                elem.onerror=scriptOnLoad;
                elem.src=urlBase+scripts[listos];
                document.body.appendChild(elem);
            },
            scriptsListos=function() {
                ui.establecerCordova()
                    .establecerJson('{editor_json}')
                    .ejecutar();
            };
        agregarEstilos();
        agregarScript();
    })();
    </script>
  </body>
</html>